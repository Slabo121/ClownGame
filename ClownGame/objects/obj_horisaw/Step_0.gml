x += horispeed * dir;

if(x <= PosFrom || x >= PosTo){
dir *= -1
}